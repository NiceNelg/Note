# Go基础

---

### 基础指令

- `go run <main文件>`：编译并直接运行程序，只会产生临时文件，不会生成可执行文件，程序结束后临时文件消失。
- `go build <main包/依赖包>`：测试编译包，若编译目标是一个`main`包则会在`bin`目录下生成可执行文件，若编译目标是一个包，则只会检测是否有编译错误，不会生成`.a`文件。
- `go install <main包/依赖包>`：编译包，若编译目标是一个`main`包则会在`bin`目录下生成可执行文件并将其依赖的包编译成`.a`文件输出到`pkg`目录下，若编译目标是一个依赖包则会在`pkg`目录下生成`.a`文件。
- `go get <依赖包>`：下载并安装依赖包，`git clone + go install`。

### 压缩程序体积

> `golang`在编译的时候有时候很少的一段代码至少也有3M左右， 为了让体积更小一点，也许可以尝试以下方法

- 编译`go build`时加上`-ldflags "-s -w"` 

  > 其中`-ldflags`里的`-s`代表去掉符号信息，` -w`代表去掉`DWARF`调试信息，得到的程序就不能用`gdb`调试了，不过编译之后体积还是挺大的。

- upx 加壳压缩

  >  如：upx -9 xxx