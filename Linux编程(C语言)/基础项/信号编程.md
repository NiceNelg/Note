# 信号编程

- 与信号相关操作的基本函数：

  - `sigprocmask(ubt how,const sigset_t*set,sigset_t *oldset)`
    - 说明：设定对信号屏蔽集内的信号的处理方式(阻塞或不阻塞)。
    - 参数：
      - `how`：用于指定信号修改的方式，可能选择有三种
        - `SIG_BLOCK`：将希望阻塞的信号加入到集合中。
        - `SIG_UNBLOCK`：从信号集将信号删除。
        - `SIG_SETMASK`：解除信号集中阻塞的信号，在解除的一瞬间会执行阻塞的信号注册过或原来的方法行为。
      - `set`：将信号集中的信号设置为以上的三种方式。
      - `oldset`：保存当前信号屏蔽字到`oldset`。
    - 返回说明：成功执行时，返回0。失败返回-1，errno被设为EINVAL。
  - `sigpending(sigset_t*set);`
    - 说明：把阻塞的信号集合放入set中。
    - 参数：
      - `set`：用于存放被阻塞的信号的集合
    - 返回说明：失败返回-1。
  - `sigismember(const sigset_t *set, int signum)`
    - 说明：检查信号集合中是否存在指定的信号。
    - 参数：
      - `set`：存放信号的集合
      - `signum`：需要检测的信号
    - 返回说明：返回不为false时即在集合中存在该信号。

- 信号屏蔽基本操作：

  ```c
  //定义信号集结构体变量
  sigset_t set;
  //初始化信号集变量，置空
  sigemptyset(&set);
  //添加需要屏蔽的信号到信号集中
  sigaddset(&set,SIGINT);
  //将信号集中的所有信号设置为忽略
  sigprocmask(SIG_BLOCK,&set,NULL);
  ```


https://zhidao.baidu.com/question/942173397367366372.html

http://blog.csdn.net/u012349696/article/details/50936585