# Webpack+Vue的环境搭建

### 初始化npm

- 在项目根目录输入：`npm init`
- 输入项目信息

### 安装webpck和vue

- 在项目根目录输入：`npm i webpack vue`

  > `npm i`是`npm install`命令的缩写。


### 配置文件

- `package.json`是记录了项目的所有依赖包，以及自定义npm脚本命令的文件。
- `webpack.config.js`是webpack的配置文件，自定义所有webpack的运行规则。

### webpack.config.js文件常用配置解析

1. webpack的所有配置最后都需要使用`module.exports`导出配置，如：`module.exports={}`

2. 各配置字段解析：

   1. `target`：目标源，指代码使用的目的是什么，如编译后的代码是为了给浏览器使用的，则target的值为web。

   2. `entry`：代码入口，指此页面或应用的入口文件，如index.js。

   3. `output`：代码编译后的输出设置，常用以下字段：

      1. `filename`：输出文件名，编译后的代码文件名。
      2. `path`：输出路径，编译后的代码输出路径。

   4. `module`：参加编译的依赖包。在编写或编译的代码中需要用到的依赖包，解析：

      1. `rules`：数组，自定义那种文件使用什么依赖包进行编译，可添加多种编译规则，解析：

         1. `test`：判断哪种文件使用哪种规则进行编译，如此规则适用于`.vue`结尾的文件，则适用正则：`/\.vue$/`进行匹配。

         2. `loader`：若此文件只使用一种依赖包参与编译则可直接使用`loader:依赖包名`。

         3. `use`：若此文件需要用多种依赖包进行编译且不用为依赖包设定规则则可直接用数组规定依赖包。

            > 注：当依赖包相互依赖时，编译使用依赖包是从下到上的顺序使用依赖包，如`stylus`类型的文件需要先使用`stylus-loader`依赖包编译成`css`文件，然后`css`文件使用`css-loader`编译成页面内的css代码，最后通过`style-loader`依赖包将css代码添加到页面内，因此依赖包添加顺序为：
            >
            > {
            >
            > ​	test:/\.styl$/,
            >
            > ​	use:[
            >
            > ​		'style-loader',
            >
            > ​          	'css-loader',
            >
            > ​          	'stylus-loader'
            >
            > ​	]
            >
            > }

         4.`use`：若此文件需要用多种依赖包进行编译且需要为依赖包设定规则则可用对象规定依赖包，写法如下：

         ```json
         {
             test:/\.(gif|jpg|jpeg|png|svg)/,
             use:[
                 {
                     loader:'url-loader',
                     options:{
                         limit:2048,
                         name:'[name]-aaa.[ext]'
                     }
                 }
             ]
         }
         ```

   5. `plugins`：插件引用，数组，可使用多个插件。

### 正式开发搭建

1. npm i vue-cli --global
2. vue init webpack `项目名`
3. cd `项目名`
4. npm start