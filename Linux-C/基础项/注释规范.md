# 注释规范

---

### 注释原则

1. 项目开发中，尽量保持代码注释规范和统一。 
2. 注释方便了代码的阅读和维护。 
3. 边写代码边注释，修改代码时要相应修改注释，保证注释和代码的一致性。 
4. 注释要简洁明确，不要出现形容词。  
5. 通过注释可以快速知道所写函数的功能，返回值，参数的使用。

### 注释格式

- 文件头部注释

  ```c
  /******************************************************************************
   * FileName: // 文件名
   * Author: nicenelg@gmail.com
   * Version: v1.0.0
   * Date: //完成日期
   * Description:
   *      //用于主要说明此程序文件完成的主要功能
   * Others: //其他内容说明
   * Function List:
   *      //主要函数列表，每条记录应包含函数名及功能简要说明                      
   * History:
   *      //修改历史记录列表，每条修改记录应包含修改日期、修改者及修改内容简介       
   *      1.Date:
   *      2.Author:
   *      3.Modification:
   *          1....
   * Dependent:
  ******************************************************************************/
  ```

- 函数注释

  ```c
  /******************************************************************************
   * Function name: insert_hhistory
   * Description: Insert to bd_host_history
   * Parameter:
   *   @char *ipsql            SQL statement                                             
   * Return:
   *   0 success
   *   other fail
  ******************************************************************************/
  int insert_hhistory(char* ipsql)
  {
      /*
      *    如果程序过于复杂，这里可以写明，具体算法和思路。
      */
  }
  ```

### 结构体、全局变量等的注释

- 全局变量

  `int num; /*全局变量的作用*/`

- 结构体

  ```c
  /*结构体的功能*/
  typedef struct{
  	int h; /*High risk*/
  	int l; /*Low risk*/
  	int m; /*Middle risk*/
  	int i; /*Information risk*/
  }risk;
  ```

### 建议

1. 一般情况下，源程序有效注释量必须在20％以上。 注释不宜太多、不宜太少，准确易懂简洁；

2. 注释格式尽量统一，建议使用“/* …… */”；

3. 避免在一行代码或表达式的中间插入注释；

   说明：除非必要，不应在代码或表达中间插入注释， 否则容易使代码可理解性变差。

4. 通过对函数或过程、变量、结构等正确的命名以及合理地组织代码的结构，使代码成为自注释的。

   说明：清晰 准确的函数、变量等的命名，可增加代码可读性，并减少不必要的注释。

5. 在代码的功能、意图层次上进行注释，提供有用、额外的信息。

   说 明：注释的目的是解释代码的目的、功能和采用的方法，提供代码以外的信息，帮助读者理解代码，防止没必要的重复注释信息。